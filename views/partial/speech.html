<link rel="stylesheet" href="/components/justifiedGallery/dist/css/justifiedGallery.min.css" />
<link rel="stylesheet" href="/components/swipebox/src/css/swipebox.min.css">
<script src="/components/justifiedGallery/dist/js/jquery.justifiedGallery.min.js"></script>
<script src="/components/swipebox/src/js/jquery.swipebox.min.js"></script>

<div id="body">
  <div class="slider speech-img">
    <ul class="slides" id="slider">
      <% covers.forEach(function(c) {%>
        <li>
          <img src="<%=c%>" class="cover-filter">
          <div class="caption speech left-align fixed-text">
            <h3><%=speechDetails.name%></h3>
            <h5 class="flow-text light grey-text text-lighten-3"><%=speechDetails.details.slogan%></h5>
          </div>
        </li>
        <%})%>
    </ul>
  </div>
  <div class="left-align" style="background-color:#ECEFF1;">
    <div class="row container" style="padding: 30px 0;">
      <h5 style="margin:0; padding: 15px 0;">關於講者</h5>
      <div class="col s12 m4 center-sm">
        <img src="<%=speechDetails.details.head%>" class="circle responsive-img" style="height:110px; border:2px solid #BDBDBD;">
      </div>
      <div class="col s12 m7" style="margin-bottom: 10px;">
        Commodo nunc quis nisi cras metus au. Nisi risus orci nulla cras. Vel consectetur dictum sagittis. Justo enim auctor vulputate
        et, nisl lacinia massa ante.
      </div>
    </div>
  </div>
  <div class="container caption" style="margin-top:40px; margin-bottom:30px;">
    <% speechDetails.details.desc.forEach(function(d) {%>
      <p>
        <%=d%>
      </p>
      <%})%>
  </div>
  <div class="container" style="margin-bottom:30px;">
    <h5 style="margin:0; padding: 15px 0;">照片回顧</h5>
    <div style="max-height: 400px; overflow-y: scroll;">
	    <div id="gallery">
	      <% img.forEach(function(i) {%>
	        <a href="<%=i%>"> <img src="<%=i%>"> </a>
	        <% }) %>
	    </div>
    </div>
  </div>
  <% if (speechDetails.details.youtube.length){%>
    <div class="container" style="margin-bottom:30px;">
      <h5 style="margin:0; padding: 15px 0;">相關影片</h5>
      <% for (var i = 0; i < speechDetails.details.youtube.length && i < 2; i++) { %>
      <div class="video-container" style="margin-bottom:10px;">
        <iframe src="https://www.youtube.com/embed/<%=speechDetails.details.youtube[i]%>" frameborder="0" allowfullscreen></iframe>
      </div>
      <% } %>
      <br/>
      <a onclick="goto('<%= speechDetails.url%>/youtube')">看更多...</a>
    </div>
    <% } %>
</div>

<script>
  $('#gallery')
		.justifiedGallery({
			lastRow: 'nojustify',
			rowHeight: 100,
			rel: 'gallery2',
			margins: 1
		})
		.on('jg.complete', function () {
			$('#gallery a').swipebox();
		});
</script>
